<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
</head>
<body>
    <div class="pd_form" th:fragment="registForm(picdata)">
        <label for="name" class="name">表示名</label>
        <br />
        <input type="text" name="name" />
        <br />
        <br />
        <div class="pd_form_container">
            <div class="pd_form_item">
                <label for="defaImg">デフォルト画像</label>
                <br />
                <input type="file" name="defaImg" id="defaImg" accept=".png,.jpg,.jpeg" required onChange="change();" />
                <img id="defaImgSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
            <div class="pd_form_item">
                <label for="criticalImg">クリティカル差分</label>
                <br />
                <input type="file" name="criticalImg" id="criticalImg" accept=".png,.jpg,.jpeg" onChange="change();" />
                <img id="criticalImgSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
            <div class="pd_form_item">
                <label for="fumbleImg">ファンブル差分</label>
                <br />
                <input type="file" name="fumbleImg" id="fumbleImg" accept=".png,.jpg,.jpeg" onChange="change();" />
                <img id="fumbleImgSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
        </div>
        <div class="pd_form_container">
            <div class="pd_form_item">
                <label for="loadImg">読み込み中差分</label>
                <br />
                <input type="file" name="loadImg" id="loadImg" accept=".png,.jpg,.jpeg" onChange="change();" />
                <img id="loadImgSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
            <div class="pd_form_item">
                <label for="hoverImg">ホバー時差分</label>
                <br />
                <input type="file" name="hoverImg" id="hoverImg" accept=".png,.jpg,.jpeg" onChange="change();">
                <img id="hoverImgSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
            <div class="pd_form_item">
                <label for="activeImg">クリック時差分</label>
                <br />
                <input type="file" name="activeImg" id="activeImg" accept=".png,.jpg,.jpeg" onChange="change();">
                <img id="activeImgSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
        </div>
        <script type="text/javascript">
            function previewFile(file , id) {
                const reader = new FileReader();

                reader.onload = function(ev) {
                    const imageUrl = ev.target.result;
                    document.getElementById(id + "Src").src = imageUrl;
                }
                reader.readAsDataURL(file);
            }

            function change(e) {
                  var e = e || window.event;
                  var elem = e.target || e.srcElement;
                  var elemId = elem.id;
                const fileInput = document.getElementById(elemId);
                const files = fileInput.files;
                previewFile(files[0] , elemId);
            }
        </script>
        <input type="radio" name="releaseFlag" value="0" />
        公開
        <input type="radio" name="releaseFlag" value="1" />
        非公開
        <input type="hidden" name="token" th:value="${pd.token}" />
        <button type="submit" id="pd_submit">アップロード</button>
    </div>
</body>
</html>