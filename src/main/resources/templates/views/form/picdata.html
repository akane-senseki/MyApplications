<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
</head>
<body>
    <div class="pd_form" th:fragment="registForm(picdata)">
        <label for="name" class="name">表示名</label>
        <br />
        <input type="text" name="name" />
        <br />
        <br />
        <div class="pd_form_container">
            <div class="pd_form_item">
                <label for="defa">デフォルト画像</label>
                <br />
                <input type="file" name="defa" id="defa" accept=".png,.jpg,.jpeg" required onChange="change();" />
                <img id="defaSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
            <div class="pd_form_item">
                <label for="critical">クリティカル差分</label>
                <br />
                <input type="file" name="critical" id="critical" accept=".png,.jpg,.jpeg" onChange="change();" />
                <img id="criticalSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
            <div class="pd_form_item">
                <label for="fumble">ファンブル差分</label>
                <br />
                <input type="file" name="fumble" id="fumble" accept=".png,.jpg,.jpeg" onChange="change();" />
                <img id="fumbleSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
        </div>
        <div class="pd_form_container">
            <div class="pd_form_item">
                <label for="load">読み込み中差分</label>
                <br />
                <input type="file" name="load" id="load" accept=".png,.jpg,.jpeg" onChange="change();" />
                <img id="loadSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
            <div class="pd_form_item">
                <label for="hover">ホバー時差分</label>
                <br />
                <input type="file" name="hover" id="hover" accept=".png,.jpg,.jpeg" onChange="change();">
                <img id="hoverSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
            <div class="pd_form_item">
                <label for="active">クリック時差分</label>
                <br />
                <input type="file" name="active" id="active" accept=".png,.jpg,.jpeg" onChange="change();">
                <img id="activeSrc" src="/myapplications/images/defo/noimage.png" alt="pd_img" />
            </div>
        </div>
        <script type="text/javascript">
            function previewFile(file , id) {
                const reader = new FileReader();

                reader.onload = function(ev) {
                    const imageUrl = ev.target.result;
                    document.getElementById(id + "Src").src = imageUrl;
                }
                reader.readAsDataURL(file);
            }

            function change(e) {
                  var e = e || window.event;
                  var elem = e.target || e.srcElement;
                  var elemId = elem.id;
                const fileInput = document.getElementById(elemId);
                const files = fileInput.files;
                previewFile(files[0] , elemId);
            }
        </script>
        <input type="radio" name="releaseFlag" value="0" />
        公開
        <input type="radio" name="releaseFlag" value="1" />
        非公開
        <input type="hidden" name="token" th:value="${pd.token}" />
        <button type="submit" id="pd_submit">アップロード</button>
    </div>
</body>
</html>